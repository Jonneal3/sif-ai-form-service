{"meta": {"name": "structural_basic_choices", "notes": "Two choice steps with deterministic ids."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.18,\"goal\":\"Clarify the objective\",\"importance_weight\":0.2,\"key\":\"goal\",\"priority\":\"critical\",\"why\":\"Guides the rest\"},{\"component_hint\":\"choice\",\"expected_metric_gain\":0.12,\"goal\":\"Select a style\",\"importance_weight\":0.15,\"key\":\"style\",\"priority\":\"high\",\"why\":\"Improves specificity\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 2, "allowed_mini_types": ["multiple_choice", "text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-goal\",\"type\":\"multiple_choice\",\"question\":\"What is the primary goal?\",\"required\":true,\"options\":[{\"label\":\"Option 1\",\"value\":\"option_1\"},{\"label\":\"Option 2\",\"value\":\"option_2\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}\n{\"id\":\"step-style\",\"type\":\"multiple_choice\",\"question\":\"Which style fits best?\",\"required\":false,\"options\":[{\"label\":\"Style A\",\"value\":\"style_a\"},{\"label\":\"Style B\",\"value\":\"style_b\"},{\"label\":\"No preference\",\"value\":\"no_preference\"}]}"}}
{"meta": {"name": "structural_skip_already_asked", "notes": "Skips step-goal because already asked."}, "inputs": {"context_json": "{\"already_asked_keys\":[\"step-goal\"],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.18,\"goal\":\"Clarify the objective\",\"importance_weight\":0.2,\"key\":\"goal\",\"priority\":\"critical\",\"why\":\"Guides the rest\"},{\"component_hint\":\"text\",\"expected_metric_gain\":0.08,\"goal\":\"Understand timing\",\"importance_weight\":0.1,\"key\":\"timeline\",\"priority\":\"medium\",\"why\":\"Sets scope\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 2, "allowed_mini_types": ["multiple_choice", "text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-timeline\",\"type\":\"text_input\",\"question\":\"What timeline are you aiming for?\",\"required\":false,\"max_length\":120,\"placeholder\":\"e.g., 2-4 weeks\"}"}}
{"meta": {"name": "structural_skip_known_answer", "notes": "Skips scope because known_answers already contains it."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.1,\"goal\":\"Define scope\",\"importance_weight\":0.12,\"key\":\"scope\",\"priority\":\"high\",\"why\":\"Controls size\"},{\"component_hint\":\"text\",\"expected_metric_gain\":0.06,\"goal\":\"Capture constraints\",\"importance_weight\":0.08,\"key\":\"constraints\",\"priority\":\"medium\",\"why\":\"Avoids conflicts\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{\"step-scope\":\"Option 1\"},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 2, "allowed_mini_types": ["multiple_choice", "text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-constraints\",\"type\":\"text_input\",\"question\":\"Any constraints we should consider?\",\"required\":false,\"max_length\":200,\"placeholder\":\"e.g., must use existing assets\"}"}}
{"meta": {"name": "structural_max_steps_one", "notes": "Respects max_steps=1."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.1,\"goal\":\"Identify audience\",\"importance_weight\":0.12,\"key\":\"audience\",\"priority\":\"high\",\"why\":\"Tailors output\"},{\"component_hint\":\"choice\",\"expected_metric_gain\":0.06,\"goal\":\"Pick tone\",\"importance_weight\":0.08,\"key\":\"tone\",\"priority\":\"medium\",\"why\":\"Controls style\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 1, "allowed_mini_types": ["multiple_choice"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-audience\",\"type\":\"multiple_choice\",\"question\":\"Who is this for?\",\"required\":true,\"options\":[{\"label\":\"Audience A\",\"value\":\"audience_a\"},{\"label\":\"Audience B\",\"value\":\"audience_b\"},{\"label\":\"General\",\"value\":\"general\"}]}"}}
{"meta": {"name": "structural_text_only", "notes": "Only text_input allowed."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"text\",\"expected_metric_gain\":0.1,\"goal\":\"Collect details\",\"importance_weight\":0.12,\"key\":\"details\",\"priority\":\"high\",\"why\":\"Improves accuracy\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 1, "allowed_mini_types": ["text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-details\",\"type\":\"text_input\",\"question\":\"Provide key details.\",\"required\":true,\"max_length\":240,\"placeholder\":\"Keep it short\"}"}}
{"meta": {"name": "structural_rating", "notes": "Rating step with allowed type rating."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"rating\",\"expected_metric_gain\":0.06,\"goal\":\"Assess priority\",\"importance_weight\":0.08,\"key\":\"priority_level\",\"priority\":\"medium\",\"why\":\"Helps triage\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 1, "allowed_mini_types": ["rating"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-priority-level\",\"type\":\"rating\",\"question\":\"How urgent is this?\",\"required\":true,\"min_label\":\"Low\",\"max_label\":\"High\",\"min\":1,\"max\":5}"}}
{"meta": {"name": "structural_choice_then_text", "notes": "Mixed types with deterministic ids."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.08,\"goal\":\"Choose category\",\"importance_weight\":0.1,\"key\":\"category\",\"priority\":\"high\",\"why\":\"Routes correctly\"},{\"component_hint\":\"text\",\"expected_metric_gain\":0.03,\"goal\":\"Capture notes\",\"importance_weight\":0.05,\"key\":\"notes\",\"priority\":\"low\",\"why\":\"Extra context\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 2, "allowed_mini_types": ["multiple_choice", "text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-category\",\"type\":\"multiple_choice\",\"question\":\"Which category fits best?\",\"required\":true,\"options\":[{\"label\":\"Category A\",\"value\":\"category_a\"},{\"label\":\"Category B\",\"value\":\"category_b\"},{\"label\":\"Other\",\"value\":\"other\"}]}\n{\"id\":\"step-notes\",\"type\":\"text_input\",\"question\":\"Any extra notes?\",\"required\":false,\"max_length\":160,\"placeholder\":\"Optional\"}"}}
{"meta": {"name": "structural_skip_duplicates", "notes": "Emits only unasked step-budget."}, "inputs": {"context_json": "{\"already_asked_keys\":[\"step-category\",\"step-notes\"],\"batch_info\":{\"batch_index\":0,\"calls_remaining\":2,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"choice\",\"expected_metric_gain\":0.08,\"goal\":\"Choose category\",\"importance_weight\":0.1,\"key\":\"category\",\"priority\":\"high\",\"why\":\"Routes correctly\"},{\"component_hint\":\"text\",\"expected_metric_gain\":0.03,\"goal\":\"Capture notes\",\"importance_weight\":0.05,\"key\":\"notes\",\"priority\":\"low\",\"why\":\"Extra context\"},{\"component_hint\":\"choice\",\"expected_metric_gain\":0.05,\"goal\":\"Estimate range\",\"importance_weight\":0.07,\"key\":\"budget\",\"priority\":\"medium\",\"why\":\"Constraints\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "ContextCore", "max_steps": 2, "allowed_mini_types": ["multiple_choice", "text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-budget\",\"type\":\"multiple_choice\",\"question\":\"Which range fits best?\",\"required\":true,\"options\":[{\"label\":\"Range A\",\"value\":\"range_a\"},{\"label\":\"Range B\",\"value\":\"range_b\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}"}}
{"meta": {"name": "structural_wrap_up", "notes": "Calls remaining = 1; asks final detail."}, "inputs": {"context_json": "{\"already_asked_keys\":[],\"batch_info\":{\"batch_index\":1,\"calls_remaining\":1,\"max_batches\":2},\"batch_state\":{\"callsRemaining\":1,\"callsUsed\":0,\"maxCalls\":2,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false,\"satietyRemaining\":1,\"satietySoFar\":0},\"business_context\":\"Generic intake flow; keep questions concise.\",\"form_plan\":[{\"component_hint\":\"text\",\"expected_metric_gain\":0.08,\"goal\":\"Capture final detail\",\"importance_weight\":0.1,\"key\":\"final_detail\",\"priority\":\"high\",\"why\":\"Completes intake\"}],\"industry\":\"Vertical_01\",\"instance_subcategories\":[],\"items\":[],\"known_answers\":{},\"personalization_summary\":\"\",\"platform_goal\":\"Collect requirements for a generic project.\",\"required_uploads\":[],\"service\":\"Service_A\"}", "batch_id": "PersonalGuide", "max_steps": 1, "allowed_mini_types": ["text_input"]}, "outputs": {"mini_steps_jsonl": "{\"id\":\"step-final-detail\",\"type\":\"text_input\",\"question\":\"Any final detail to include?\",\"required\":false,\"max_length\":120,\"placeholder\":\"Optional\"}"}}

{"meta":{"name":"structural_basic_choices","notes":"Two choice steps with deterministic ids (step-{key}). Teaches: valid JSONL format, option shape, required field."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_01\",\"service\":\"Service_A\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_a\",\"goal\":\"Select primary attribute\",\"why\":\"Sets foundation\",\"component_hint\":\"choice\",\"priority\":\"critical\",\"importance_weight\":0.2,\"expected_metric_gain\":0.18},{\"key\":\"attribute_b\",\"goal\":\"Choose secondary attribute\",\"why\":\"Adds detail\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.15,\"expected_metric_gain\":0.12}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_a\",\"goal\":\"Primary attribute selection.\"},{\"family\":\"attribute_b\",\"goal\":\"Secondary attribute selection.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":2,"allowed_mini_types":["multiple_choice","text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-a\",\"type\":\"multiple_choice\",\"question\":\"Which primary attribute applies?\",\"required\":true,\"options\":[{\"label\":\"Option A\",\"value\":\"option_a\"},{\"label\":\"Option B\",\"value\":\"option_b\"},{\"label\":\"Option C\",\"value\":\"option_c\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}\n{\"id\":\"step-attribute-b\",\"type\":\"multiple_choice\",\"question\":\"What secondary attribute fits?\",\"required\":false,\"options\":[{\"label\":\"Style A\",\"value\":\"style_a\"},{\"label\":\"Style B\",\"value\":\"style_b\"},{\"label\":\"Style C\",\"value\":\"style_c\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}"}}
{"meta":{"name":"structural_skip_already_asked","notes":"Skips step-attribute-a because already_asked_keys contains it. Teaches: respect already_asked_keys, emit only unasked steps."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_02\",\"service\":\"Service_B\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[\"step-attribute-a\"],\"form_plan\":[{\"key\":\"attribute_a\",\"goal\":\"Select primary attribute\",\"why\":\"Sets foundation\",\"component_hint\":\"choice\",\"priority\":\"critical\",\"importance_weight\":0.2,\"expected_metric_gain\":0.18},{\"key\":\"attribute_c\",\"goal\":\"Capture detail attribute\",\"why\":\"Adds specificity\",\"component_hint\":\"text\",\"priority\":\"medium\",\"importance_weight\":0.1,\"expected_metric_gain\":0.08}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_a\",\"goal\":\"Primary attribute selection.\"},{\"family\":\"attribute_c\",\"goal\":\"Detail attribute capture.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":2,"allowed_mini_types":["multiple_choice","text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-c\",\"type\":\"text_input\",\"question\":\"Any additional detail to include?\",\"required\":false,\"max_length\":120,\"placeholder\":\"Optional\"}"}}
{"meta":{"name":"structural_skip_known_answer","notes":"Skips step-attribute-d because known_answers already contains it. Teaches: don't ask for things already in known_answers."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_03\",\"service\":\"Service_C\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{\"step-attribute-d\":\"value_x\"},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_d\",\"goal\":\"Select attribute D\",\"why\":\"Controls behavior\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.12,\"expected_metric_gain\":0.1},{\"key\":\"attribute_e\",\"goal\":\"Capture attribute E\",\"why\":\"Defines property\",\"component_hint\":\"text\",\"priority\":\"medium\",\"importance_weight\":0.08,\"expected_metric_gain\":0.06}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_d\",\"goal\":\"Attribute D selection.\"},{\"family\":\"attribute_e\",\"goal\":\"Attribute E capture.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":2,"allowed_mini_types":["multiple_choice","text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-e\",\"type\":\"text_input\",\"question\":\"Any property preference?\",\"required\":false,\"max_length\":200,\"placeholder\":\"Optional\"}"}}
{"meta":{"name":"structural_max_steps_one","notes":"Respects max_steps=1. Teaches: hard limit on step count, emit only one step even if form_plan has more."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_04\",\"service\":\"Service_D\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_f\",\"goal\":\"Choose attribute F\",\"why\":\"Frames the subject\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.12,\"expected_metric_gain\":0.1},{\"key\":\"attribute_g\",\"goal\":\"Select attribute G\",\"why\":\"Sets context\",\"component_hint\":\"choice\",\"priority\":\"medium\",\"importance_weight\":0.08,\"expected_metric_gain\":0.06}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_f\",\"goal\":\"Attribute F selection.\"},{\"family\":\"attribute_g\",\"goal\":\"Attribute G selection.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":1,"allowed_mini_types":["multiple_choice"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-f\",\"type\":\"multiple_choice\",\"question\":\"Which attribute F option works best?\",\"required\":true,\"options\":[{\"label\":\"Option X\",\"value\":\"option_x\"},{\"label\":\"Option Y\",\"value\":\"option_y\"},{\"label\":\"Option Z\",\"value\":\"option_z\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}"}}
{"meta":{"name":"structural_text_only","notes":"Only text_input allowed. Teaches: respect allowed_mini_types constraint, emit only allowed types."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_05\",\"service\":\"Service_E\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_h\",\"goal\":\"Collect detail attribute\",\"why\":\"Improves accuracy\",\"component_hint\":\"text\",\"priority\":\"high\",\"importance_weight\":0.12,\"expected_metric_gain\":0.1}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_h\",\"goal\":\"Detail attribute capture.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":1,"allowed_mini_types":["text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-h\",\"type\":\"text_input\",\"question\":\"Describe any specific details to include.\",\"required\":true,\"max_length\":240,\"placeholder\":\"Optional\"}"}}
{"meta":{"name":"structural_rating","notes":"Rating step with allowed type rating. Teaches: rating type format, min/max labels, numeric range."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_06\",\"service\":\"Service_F\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_i\",\"goal\":\"Assess intensity level\",\"why\":\"Controls intensity\",\"component_hint\":\"rating\",\"priority\":\"medium\",\"importance_weight\":0.08,\"expected_metric_gain\":0.06}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_i\",\"goal\":\"Intensity level assessment.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":1,"allowed_mini_types":["rating"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-i\",\"type\":\"rating\",\"question\":\"How intense should it be?\",\"required\":true,\"min_label\":\"Subtle\",\"max_label\":\"Bold\",\"min\":1,\"max\":5}"}}
{"meta":{"name":"structural_choice_then_text","notes":"Mixed types with deterministic ids. Teaches: multiple step types in one batch, proper JSONL formatting (one per line)."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_07\",\"service\":\"Service_G\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_j\",\"goal\":\"Select attribute J\",\"why\":\"Sets appearance\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.1,\"expected_metric_gain\":0.08},{\"key\":\"attribute_k\",\"goal\":\"Capture accent detail\",\"why\":\"Adds nuance\",\"component_hint\":\"text\",\"priority\":\"low\",\"importance_weight\":0.05,\"expected_metric_gain\":0.03}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_j\",\"goal\":\"Attribute J selection.\"},{\"family\":\"attribute_k\",\"goal\":\"Accent detail capture.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":2,"allowed_mini_types":["multiple_choice","text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-j\",\"type\":\"multiple_choice\",\"question\":\"Which attribute J option fits best?\",\"required\":true,\"options\":[{\"label\":\"Natural\",\"value\":\"natural\"},{\"label\":\"Synthetic\",\"value\":\"synthetic\"},{\"label\":\"Mixed\",\"value\":\"mixed\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}\n{\"id\":\"step-attribute-k\",\"type\":\"text_input\",\"question\":\"Any accent details to include?\",\"required\":false,\"max_length\":160,\"placeholder\":\"Optional\"}"}}
{"meta":{"name":"structural_skip_duplicates","notes":"Emits only unasked step-attribute-l. Teaches: skip steps already in already_asked_keys, even if in form_plan."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_08\",\"service\":\"Service_H\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[\"step-attribute-j\",\"step-attribute-k\"],\"form_plan\":[{\"key\":\"attribute_j\",\"goal\":\"Select attribute J\",\"why\":\"Sets appearance\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.1,\"expected_metric_gain\":0.08},{\"key\":\"attribute_k\",\"goal\":\"Capture accent detail\",\"why\":\"Adds nuance\",\"component_hint\":\"text\",\"priority\":\"low\",\"importance_weight\":0.05,\"expected_metric_gain\":0.03},{\"key\":\"attribute_l\",\"goal\":\"Choose attribute L\",\"why\":\"Defines environment\",\"component_hint\":\"choice\",\"priority\":\"medium\",\"importance_weight\":0.07,\"expected_metric_gain\":0.05}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_j\",\"goal\":\"Attribute J selection.\"},{\"family\":\"attribute_k\",\"goal\":\"Accent detail capture.\"},{\"family\":\"attribute_l\",\"goal\":\"Attribute L selection.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":2,"allowed_mini_types":["multiple_choice","text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-l\",\"type\":\"multiple_choice\",\"question\":\"What attribute L option should appear?\",\"required\":true,\"options\":[{\"label\":\"Option P\",\"value\":\"option_p\"},{\"label\":\"Option Q\",\"value\":\"option_q\"},{\"label\":\"Option R\",\"value\":\"option_r\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}"}}
{"meta":{"name":"structural_wrap_up","notes":"Calls remaining = 1; asks final detail. Teaches: respect batch_state.callsRemaining, final batch behavior."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_09\",\"service\":\"Service_I\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_m\",\"goal\":\"Capture final detail\",\"why\":\"Completes specification\",\"component_hint\":\"text\",\"priority\":\"high\",\"importance_weight\":0.1,\"expected_metric_gain\":0.08}],\"batch_state\":{\"callsRemaining\":1,\"callsUsed\":1,\"maxCalls\":2,\"satietySoFar\":0.5,\"satietyRemaining\":0.5,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_m\",\"goal\":\"Final detail capture.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"PersonalGuide","max_steps":1,"allowed_mini_types":["text_input"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-m\",\"type\":\"text_input\",\"question\":\"Any final detail to include?\",\"required\":false,\"max_length\":120,\"placeholder\":\"Optional\"}"}}
{"meta":{"name":"structural_question_length","notes":"Question text is concise (one thing at a time). Teaches: question style constraints, length limits, clarity."},"inputs":{"context_json":"{\"platform_goal\":\"Collect attributes for visual generation.\",\"business_context\":\"Keep questions concise.\",\"industry\":\"Vertical_10\",\"service\":\"Service_J\",\"use_case\":\"scene\",\"goal_intent\":\"visual\",\"required_uploads\":[],\"personalization_summary\":\"\",\"known_answers\":{},\"already_asked_keys\":[],\"form_plan\":[{\"key\":\"attribute_n\",\"goal\":\"Select single attribute\",\"why\":\"Captures one dimension\",\"component_hint\":\"choice\",\"priority\":\"high\",\"importance_weight\":0.12,\"expected_metric_gain\":0.1}],\"batch_state\":{\"callsRemaining\":2,\"callsUsed\":0,\"maxCalls\":2,\"satietySoFar\":0,\"satietyRemaining\":1,\"missingHighImpactKeys\":[],\"mustHaveCopyNeeded\":false},\"attribute_families\":[{\"family\":\"attribute_n\",\"goal\":\"Single attribute selection.\"}],\"service_anchor_terms\":[\"visual\",\"design\"],\"items\":[],\"instance_subcategories\":[]}","batch_id":"ContextCore","max_steps":1,"allowed_mini_types":["multiple_choice"]},"outputs":{"mini_steps_jsonl":"{\"id\":\"step-attribute-n\",\"type\":\"multiple_choice\",\"question\":\"Which option applies?\",\"required\":true,\"options\":[{\"label\":\"Option 1\",\"value\":\"option_1\"},{\"label\":\"Option 2\",\"value\":\"option_2\"},{\"label\":\"Option 3\",\"value\":\"option_3\"},{\"label\":\"Not sure\",\"value\":\"not_sure\"}]}"}}
